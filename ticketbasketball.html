<!DOCTYPE html>
<html>

<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KPXMCL5ELR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-KPXMCL5ELR');
  </script>
  <title> Westside Gym </title>
  <link rel="stylesheet" href="webdesign.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Quicksand:wght@300..700&display=swap"
    rel="stylesheet">
  <script>
    function myFunction() {
      document.getElementById("myDropdown").classList.toggle("show");
    }


    window.onclick = function (event) {
      if (!event.target.matches('.tabclick')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
  </script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KPXMCL5ELR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-KPXMCL5ELR');
  </script>
  <title> Westside Gym </title>
  <meta name="description" content="Welcome to Westside Gym. Book events or purchase tickets for games today!">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KPXMCL5ELR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-KPXMCL5ELR');
  </script>
  <title> Westside Gym </title>

  <link rel="stylesheet" href="webdesign.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:400,700|Khula" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Quicksand:wght@300..700&display=swap"
    rel="stylesheet">
  <script>
    function myFunction() {
      document.getElementById("myDropdown").classList.toggle("show");
    }


    window.onclick = function (event) {
      if (!event.target.matches('.selectedtab')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
  </script>
   <style>

    body{

      overflow-x: hidden;
      overflow-y: hidden;
    }
  </style>
</head>

<body style="max-height: 818px; background-color: rgb(191, 191, 191);;">
  <div class="uppertab">
    <a href="profile.html" id="profileIcon" style="display: none;">
      <button class="UTbutton"><img src="login.png" width="20" height="23"></button>
    </a>
    <button class="UTbutton" id="authButton">Log In</button>

  </div>
  <div class="tab">
    <a href="index.html"> <button class="tabclick" onclick="openPage(event,'rental')">Home</button></a>
    <a href="rental.html"><button class="tabclick" onclick="openPage(event,'rental')">Rental</button></a>
    <a href="calendar.html"> <button class="tabclick" onclick="openPage(event,'calendar')">Calendar</button> </a>
    <button class="selectedtab" onclick="myFunction()">Tickets</button>
    <a href="bookings.html" id="bookingsTab" style="display: none;">
      <button class="tabclick">Bookings</button>
    </a>
    <a href="cart.html"><img class="cartimg" src="cart.png"></a>


  </div>
  <div id="myDropdown" class="dropdown-content">
    <a href="ticketbasketball.html">
      <p class="new">Basketball</p>
    </a>
    <a href="ticketvoleyball.html">
      <p class="new">Volleyball</p>
    </a>
    <a href="ticketorchestra.html">
      <p class="new">Orchestra</p>
    </a>
  </div>
  <div id="myDropdown" class="dropdown-content">
    <a href="ticketbasketball.html">
      <p class="new">Basketball</p>
    </a>
    <a href="ticketvoleyball.html">
      <p class="new">Volleyball</p>
    </a>
    <a href="ticketorchestra.html">
      <p class="new">Orchestra</p>
    </a>
  </div>
  </div>
  <div class="background2">
    <h1 class="ticketheading2">Basketball Tickets</h1>
  </div>

  <table class="orchestratable">
    <tr>
      <!--- <td class="orchestra2"> <p class="ticketorchestratext"> Upcoming Games: </p> <p class="concertext">
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Feb 7<div> 6PM </div></p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Feb 14<div> 6:30PM </div> </p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Feb 21<div> 6PM</div></p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Feb 28<div>6PM</div></p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Mar 7<div> 6:30PM </div> </p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Mar 14<div>6PM</div></p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Mar 21<div>6PM</div></p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Mar 28<div>6:30PM</div></p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Apr 4<div>6:30PM</div></p>
                  <div class="extraspace2"></div>
                  <p class="concertext">Fri, Apr 11<div>6:30PM</div></p>
                  <div class="extraspace2"></div>
                </td>--->

      <td class="orchestra2">
        <p class="trialText">Home Games </p>
        <p class="concertext"></p>
        <div class="extraspace2"></div>
        <hr style="background-color: rgb(191, 191, 191); height: 1px; border: none;">
        <div class="extraspace2"></div>
        <button class="eventTicketButton"> Fri, Aug 8 </button> <br>
        <div class="extraspace7"></div>
        <button class="eventTicketButton"> Fri, Aug 22 </button> <br>
        <div class="extraspace7"></div>
        <button class="eventTicketButton"> Fri, Aug 29 </button> <br>
        <div class="extraspace7"></div>
        <button class="eventTicketButton"> Fri, Sep 5 </button> <br>
        <div class="extraspace2"></div>


        <div class="extraspace2"></div>
        <div class="extraspace2"></div>

        <button class="zoom" onclick="zoomIn()">+</button> <br>
        <button class="zoom" onclick="zoomOut()">-</button> <br>
        <button class="reset" onclick="location.reload()"> Reset</button>

      </td>
      <td class="ticketorchestratabletd">
        <div class="zoom-container">
          <div class="zoom-target" id="zoomTarget">
            <div class="chart">

              <img src="section (1).png" data-section="B1" class="section" height="20.5%"
                style="bottom:70%; left: 16%;">
              <img src="section (2).png" data-section="B2" class="section" height="15%" width="10%"
                style="bottom: 78%; left: 30%;">
              <img src="section (3).png" data-section="B3" class="section" style="bottom: 78.3%; left: 41.5%;"
                height="14.5%">
              <img src="section (4).png" data-section="B4" class="section" style="bottom: 78.3%; left: 47.7%;"
                height="14.6%">
              <img src="section (5.)png.png" data-section="B5" class="section" style="bottom: 78.3%; left: 56.9%;"
                height="14.5%">
              <img src="section (6).png" data-section="B6" class="section" style="bottom: 77.5%; left: 62.5%;"
                height="15.5%" width="10%">
              <img src="section (7).png" data-section="B7" class="section" height="20.5%"
                style="bottom:70%; left: 69%;">
              <img src="section (8).png" data-section="B8" class="section" height="15%"
                style="bottom:60%; left: 77.5%;">
              <img src="section (9).png" data-section="B9" class="section" height="15%"
                style="bottom: 42.5%; left: 78%;">
              <img src="section (10).png" data-section="B10" class="section" height="14.5%"
                style="bottom:25.5%; left: 77.5%;">
              <img src="section (11).png" data-section="B11" class="section" height="22%"
                style="bottom:8.75%; left: 69.5%;">
              <img src="section (12).png" data-section="B12" class="section" height="14.5%"
                style="bottom:7%; left: 63%;">
              <img src="section (13).png" data-section="B13" class="section" style="bottom: 7%; left: 41.5%;"
                height="14.5%">
              <img src="section (14) .png" data-section="B14" class="section" style="bottom: 7%; left: 47.7%;"
                height="14.6%">
              <img src="section (15)png.png" data-section="B15" class="section" style="bottom: 7%; left: 56.9%;"
                height="14.5%">
              <img src="section (16).png" data-section="B16" class="section" height="14.5%"
                style="bottom:7%; left: 29%;">
              <img src="section (17).png" data-section="B17" class="section" height="20.1%"
                style="bottom:10%; left: 16%;">
              <img src="section (18).png" data-section="B18" class="section" height="14.5%"
                style="bottom:26%; left: 11%;">
              <img src="section (19).png" data-section="B19" class="section" height="15%"
                style="bottom: 42.5%; left: 11%;">
              <img src="section (20).png" data-section="B20" class="section" height="14.5%"
                style="bottom:60%; left: 11%;">
              <img src="section (21).png" data-section="A1" class="section" style="bottom: 69.5%; left:37.9%;"
                width="61" height="43">
              <img src="section (22).png" data-section="A2" class="section" style="bottom: 69.5%; left:47.2%;"
                width="61" height="43">
              <img src="section (23).png" data-section="A3" class="section" style="bottom: 69.5%; left:56.45%;"
                width="61" height="43">
              <img src="section (24).png" data-section="A6" class="section" style="bottom: 23.6%; left:37.9%;"
                width="61" height="43">
              <img src="section (25).png" data-section="A7" class="section" style="bottom: 23.6%; left:47.2%;"
                width="61" height="43">
              <img src="section (26).png" data-section="A8" class="section" style="bottom: 23.6%; left:56.45%;"
                width="61" height="43">
              <img src="section (27).png" class="court" width="257px" height="212px" style="bottom: 32.9%; left:34%;">
              <img src="section (28).png" data-section="A4" class="section" style="bottom: 51.5%; left:70.7%;">
              <img src="section (29).png" data-section="A10" class="section" style="bottom: 51.5%; left:25.9%;">
              <img src="section (30).png" data-section="A5" class="section" style="bottom: 35.75%; left:70.7%;">
              <img src="section (31).png" class="section" data-section="A9" style="bottom: 35.75%; left:25.9%;">
              <p class="sectionText" style="bottom:78%; left: 25%;"> B1</p>
              <p class="sectionText" style="bottom:84%; left: 35.5%;"> B2</p>
              <p class="sectionText" style="bottom:84%; left: 42.5%;"> B3 </p>
              <p class="sectionText" style="bottom:84%; left: 50.2%;"> B4</p>
              <p class="sectionText" style="bottom:84%; left: 58%;"> B5</p>
              <p class="sectionText" style="bottom:84%; left: 65%;"> B6</p>
              <p class="sectionText" style="bottom:78%; left: 75%;"> B7 </p>
              <p class="sectionText" style="bottom:65%; left: 83%;"> B8</p>
              <p class="sectionText" style="bottom:48.5%; left: 83.5%;"> B9 </p>
              <p class="sectionText" style="bottom:33%; left: 83%;"> B10 </p>
              <p class="sectionText" style="bottom:20%; left: 75%;"> B11</p>
              <p class="sectionText" style="bottom: 13.4%; left: 65.2%"> B12</p>
              <p class="sectionText" style="bottom: 13.4%; left: 58%"> B13</p>
              <p class="sectionText" style="bottom: 13.4%; left: 50.4%"> B14</p>
              <p class="sectionText" style="bottom: 13.4%; left: 42.7%"> B15</p>
              <p class="sectionText" style="bottom: 13.4%; left: 34.5%"> B16</p>
              <p class="sectionText" style="bottom: 20.4%; left: 24.9%"> B17</p>
              <p class="sectionText" style="bottom: 33.8%; left: 17.9%"> B18</p>
              <p class="sectionText" style="bottom: 49%; left: 16.9%"> B19</p>
              <p class="sectionText" style="bottom: 64.4%; left: 17.9%"> B20</p>
              <p class="sectionText" style="bottom: 71.7%; left: 41.1%">A1</p>
              <p class="sectionText" style="bottom: 71.7%; left: 50.3%"> A2</p>
              <p class="sectionText" style="bottom: 71.7%; left: 59.3%"> A3</p>
              <p class="sectionText" style="bottom: 56%; left: 72.5%">A4</p>
              <p class="sectionText" style="bottom: 40.5%; left: 72.5%"> A5</p>
              <p class="sectionText" style="bottom: 25.7%; left: 41.1%">A6</p>
              <p class="sectionText" style="bottom: 25.7%; left: 50.3%"> A7</p>
              <p class="sectionText" style="bottom: 25.7%; left: 59.3%"> A8</p>
              <p class="sectionText" style="bottom: 40.5%; left: 27.7%"> A9</p>
              <p class="sectionText" style="bottom: 56%;  left: 27.4%"> A10</p>


            </div>

            <div style="text-align: center; margin: 10px;">

            </div>
          </div>
        </div>
        </div>
      </td>


      <td class="ticketorchestratabletd3" style="padding-bottom: 0;">
        <form name="ticketform">
          <div style="padding-left: 10px;">
            <div style="display: flex; align-items: center; padding-left: 38px;">
              <p class="trialText2" style="margin: 0 10px 0 0;">Total</p>
              <input type="text" size="10" name="TotalAmount" id="TotalAmount" style="width: 97px; height: 30px;"> 
            </div>

            <div class="extraspace8"></div>
          </div>
            <hr style="background-color: rgb(191, 191, 191); height: 1px; border: none;">
         
          <div>
<div class="extraspace"></div>


           
            <div class="pricedropdown">
              <div id="sectionInputs" ></div>
              <p class="trialText3">Tickets</p>
              <select class="fullSelect"id="seatsection" name="seatsection" multiple size="12" onchange="updateSectionInputs()"
                style="width: 245px; font-size: 15px; margin-top: 10px;">
                <option class="ticket-select"value="30">A1 - $30</option>
                <option class="ticket-select"value="30">A2 - $30</option>
                <option class="ticket-select"value="30">A3 - $30</option>
                <option class="ticket-select"value="30">A4 - $30</option>
                <option class="ticket-select"value="30">A5 - $30</option>
                <option class="ticket-select"value="30">A6 - $30</option>
                <option class="ticket-select"value="30">A7 - $30</option>
                <option class="ticket-select"value="30">A8 - $30</option>
                <option class="ticket-select"value="30">A9 - $30</option>
                <option class="ticket-select"value="30">A10 - $30</option>
                <option class="ticket-select"value="20">B1 - $20</option>
                <option class="ticket-select"value="20">B2 - $20</option>
                <option class="ticket-select"value="20">B3 - $20</option>
                <option class="ticket-select"value="20">B4 - $20</option>
                <option class="ticket-select"value="20">B5 - $20</option>
                <option class="ticket-select"value="20">B6 - $20</option>
                <option class="ticket-select"value="20">B7 - $20</option>
                <option class="ticket-select"value="20">B8 - $20</option>
                <option class="ticket-select"value="20">B9 - $20</option>
                <option class="ticket-select"value="20">B10 - $20</option>
                <option class="ticket-select"value="20">B11 - $20</option>
                <option class="ticket-select"value="20">B12 - $20</option>
                <option class="ticket-select"value="20">B13 - $20</option>
                <option class="ticket-select"value="20">B14 - $20</option>
                <option class="ticket-select"value="20">B15 - $20</option>
                <option class="ticket-select"value="20">B16 - $20</option>
                <option class="ticket-select"value="20">B17 - $20</option>
                <option class="ticket-select"value="20">B18 - $20</option>
                <option class="ticket-select"value="20">B19 - $20</option>
                <option class="ticket-select"value="20">B20 - $20</option>
              </select>



              <button class="fixed-purchase-button" onclick="addToCart()">Add to cart</button>

            </div>
          </div>


      </td>

    </tr>

    </form>
  </table>
  <script>
    function getprice() {
      const seatDropdown = document.getElementById("seatsection");
      const selectedOptions = Array.from(seatDropdown.selectedOptions);
      let total = 0;

      selectedOptions.forEach(option => {
        const section = option.textContent.trim().split(" - ")[0];
        const price = parseInt(option.value);
        const quantityInput = document.getElementById(`qty-${section}`);
        const quantity = parseInt(quantityInput?.value || 0);
        total += price * quantity;
      });

      document.getElementById("TotalAmount").value = total;
    }


    function updateSectionInputs() {
  const seatDropdown = document.getElementById("seatsection");
  const sectionInputs = document.getElementById("sectionInputs");
  sectionInputs.innerHTML = "";

  // Dynamically reduce the size of the select box
  seatDropdown.style.height = `${Math.max(3, 25 - seatDropdown.selectedOptions.length * 4) * 1.25}em`;

  Array.from(seatDropdown.selectedOptions).forEach(option => {
    const section = option.textContent.trim().split(" - ")[0];

    const wrapper = document.createElement("div");
    wrapper.style.marginBottom = "20px";

    const label = document.createElement("label");
    label.textContent = `Tickets for ${section}`;
    label.className = "ticket-label";
    label.style.display = "block";
    label.style.marginBottom = "5px";

    const input = document.createElement("input");
    input.type = "number";
    input.min = 0;
    input.value = 1;
    input.id = `qty-${section}`;
    input.className = "ticket-input";
    input.oninput = getprice;

    const hr = document.createElement("hr");
    hr.style.backgroundColor = "rgb(191, 191, 191)";
    hr.style.height = "1px";
    hr.style.border = "none";
    hr.style.marginTop = "10px";
    hr.style.width = "250px";

    wrapper.appendChild(label);
    wrapper.appendChild(input);
    wrapper.appendChild(hr);

    sectionInputs.appendChild(wrapper);
  });

  getprice();
}


  </script>



  <script>
    let zoomLevel = 1;
    const zoomTarget = document.getElementById('zoomTarget');

    function zoomIn() {
      zoomLevel += 0.1;
      zoomTarget.style.transform = `scale(${zoomLevel})`;
    }

    function zoomOut() {
      zoomLevel = Math.max(0.1, zoomLevel - 0.1);
      zoomTarget.style.transform = `scale(${zoomLevel})`;
    }
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sections = document.querySelectorAll('.section');
      sections.forEach(section => {
        section.addEventListener('click', function () {
          // Toggle clicked class
          this.classList.toggle('clicked');
          // You can also do something else here like logging or triggering other events
          console.log('Section clicked:', this.src);
        });
      });
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const sections = document.querySelectorAll('.section');
      const seatDropdown = document.getElementById('seatsection');

      // Store all original options
      const allOptions = Array.from(seatDropdown.options).map(opt => opt.cloneNode(true));

      // Track selected section names
      const selectedSections = new Set();

      sections.forEach(section => {
        section.addEventListener('click', function () {
          const selectedSection = this.getAttribute('data-section');

          // Toggle selection
          if (selectedSections.has(selectedSection)) {
            selectedSections.delete(selectedSection);
          } else {
            selectedSections.add(selectedSection);
          }

          // Filter dropdown to only show selected sections
          seatDropdown.innerHTML = '';
          allOptions.forEach(opt => {
            const sectionName = opt.textContent.trim().split(" - ")[0];
            if (selectedSections.has(sectionName)) {
              seatDropdown.appendChild(opt.cloneNode(true));
            }

          });

          updateSectionInputs(); // Update inputs and price

        });
      });

      // Optional: Reset button to restore all options

    });
    /*function resetSections() {
      const seatDropdown = document.getElementById('seatsection');
      seatDropdown.innerHTML = '';
      allOptions.forEach(opt => seatDropdown.appendChild(opt.cloneNode(true)));
      selectedSections.clear();
      updateSectionInputs();
    
      // Remove 'clicked' class from all section images
      const sections = document.querySelectorAll('.section');
      sections.forEach(section => {
        section.classList.remove('clicked');
      });
    }*/
  </script>
<script>
  const buttons = document.querySelectorAll('.eventTicketButton');

  // Get the saved selection from localStorage
  const selectedText = localStorage.getItem('selectedButton');

  // If there's a saved selection, apply it
  if (selectedText) {
      buttons.forEach(button => {
          if (button.textContent.trim() === selectedText) {
              button.classList.add('selected');
          }
      });
  } else if (buttons.length > 0) {
      // If no selection saved, select the first button by default
      buttons[0].classList.add('selected');
  }

  // Add click event to each button
  buttons.forEach(button => {
      button.addEventListener('click', () => {
          // Save the clicked button's text
          localStorage.setItem('selectedButton', button.textContent.trim());

          // Refresh the page
          location.reload();
      });
  });
</script>
<script>
const ticketType = "Basketball Ticket"; 


function addToCart() {
    const selectedDate = localStorage.getItem('selectedButton') || "No date selected";
    const seatDropdown = document.getElementById("seatsection");
    const selectedOptions = Array.from(seatDropdown.selectedOptions);
    const newTickets = [];

    selectedOptions.forEach(option => {
        const section = option.textContent.trim().split(" - ")[0];
        const price = parseInt(option.value);
        const quantityInput = document.getElementById(`qty-${section}`);
        const quantity = parseInt(quantityInput?.value || 0);
        if (quantity > 0) {
            newTickets.push({ type: ticketType, section, price, quantity });
        }
    });

    let cart = JSON.parse(localStorage.getItem("cartData")) || { date: selectedDate, tickets: [], total: 0 };

    cart.tickets = cart.tickets.concat(newTickets);
    cart.total = cart.tickets.reduce((sum, t) => sum + t.price * t.quantity, 0);

    localStorage.setItem("cartData", JSON.stringify(cart));
    window.location.href = "cart.html";
}

  </script>
  <script type="module">
    import { auth } from "./auth.js";
    import {
      signOut,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  
    onAuthStateChanged(auth, (user) => {
      const authBtn = document.querySelector("#authButton");
      const profileIcon = document.querySelector("#profileIcon");
      const bookingsTab = document.querySelector("#bookingsTab");
  
      if (user) {
        authBtn.textContent = "Sign Out";
        authBtn.onclick = async () => {
          await signOut(auth);
          alert("You have been signed out.");
          location.reload();
        };
  
        // Show profile icon and bookings tab only if they exist
        if (profileIcon) profileIcon.style.display = "inline-block";
        if (bookingsTab) bookingsTab.style.display = "inline-block";
      } else {
        authBtn.textContent = "Log In";
        authBtn.onclick = () => {
          window.location.href = "login.html";
        };
  
        // Hide profile icon and bookings tab if visible
        if (profileIcon) profileIcon.style.display = "none";
        if (bookingsTab) bookingsTab.style.display = "none";
      }
    });
  </script>
  
</body>

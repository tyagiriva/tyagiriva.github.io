<!DOCTYPE html>
<html>
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KPXMCL5ELR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KPXMCL5ELR');
</script>
<title> Westside Gym </title>
    <link rel="stylesheet" href="webdesign.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Quicksand:wght@300..700&display=swap"
    rel="stylesheet">
    <script>
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
          }
          
        
          window.onclick = function(event) {
            if (!event.target.matches('.tabclick')) {
              var dropdowns = document.getElementsByClassName("dropdown-content");
              var i;
              for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                  openDropdown.classList.remove('show');
                }
              }
            }
          }
        </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-KPXMCL5ELR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KPXMCL5ELR');
</script>
<title> Westside Gym </title>
  <meta name="description" content="Welcome to Westside Gym. Book events or purchase tickets for games today!">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KPXMCL5ELR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KPXMCL5ELR');
</script>
<title> Westside Gym </title>
  
  <link rel="stylesheet" href="webdesign.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:400,700|Khula" rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Quicksand:wght@300..700&display=swap"
    rel="stylesheet">
  <script>
    function myFunction() {
      document.getElementById("myDropdown").classList.toggle("show");
    }


    window.onclick = function (event) {
      if (!event.target.matches('.tabclick')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
  </script>
  <style>
    * {
  box-sizing: border-box;
}
@media (min-width: 1200px) {
  .pricing-container {
    gap: 50px;
  }
}
  @media (max-width: 768px) {
    .autoshow table {
      display: block;
      width: 100%;
      background-color: transparent;
      border-spacing: 0;
    }
    
    

    .autoshow tr {
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: transparent;
    }

    .autoshow td {
      display: block;
      width: 90%;
      margin: 20px auto;
      height: auto;
      background-color: whitesmoke;
      border: none;
      border-radius: 3px;
      box-shadow: rgba(65, 65, 65, 0.48) 6px 2px 16px 0px, rgba(60, 60, 60, 0.8) -6px -2px 16px 0px;
    }


    .bookNow {
      width: 90%;
      margin: 10px auto;
      display: block;
    }

    #rentaltable {
      width: 100%;
      display: block;
      margin-left: auto !important;
      margin-right: auto !important;
    }

   

    .button {
      margin-left: auto;
      margin-right: auto;
      display: block;
    }

    #timeSlots {
      position: static;
      width: 90%;
      margin: 20px auto;
    }
  }

  
  @media (min-width: 1200px) {
    .autoshow table {
      table-layout: fixed;
    }

    .autoshow td {
      height: 350px;
    }
  }
  .pricing-container {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin: 0 auto;
  padding: 20px;
  gap: 90px;   
  margin-top: 60px; 
}

.pricing-card {
  background-color: whitesmoke;
  border-radius: 3px;
  box-shadow: rgba(65, 65, 65, 0.48) 6px 2px 16px 0px,
              rgba(60, 60, 60, 0.8) -6px -2px 16px 0px;
  box-sizing: border-box;
  width: 240px;      
  padding: 16px;      
  min-height: 260px;
}

.rental-bg {
  background-image: url('rentalbg.png');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  padding-bottom: 50px;
}

/* Disable parallax on small screens */
@media (max-width: 768px) {
  .rental-bg {
    background-attachment: scroll;
  }
}
.z{
color:gray;
  font-size: 14px;
   font-weight: 500;
    margin: 0;
}

@media (max-width: 768px) {
  .pricing-container {
    flex-direction: column;
    align-items: center;
    gap: 30px;
  }
}
@media (max-width: 768px) {
  #rentaltable {
    display: block;
    width: 100%;
  }

  .tds {
    display: block;
    width: 100% !important;
    text-align: center;
    padding: 10px 0;
  }

  .rentalinputs,
  .rentalinputs2 {
    width: 90% !important;
    margin: 0 auto 10px auto;
    display: block;
  }

  .button {
    display: block;
    margin: 20px auto;
  }
}

  form {
  width: 100%;
  max-width: 750px;
  margin: 0 auto;
  box-sizing: border-box;
}


</style>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="uppertab">
      <button class="UTbutton2"><img src="login.png" width="20px" height="23"></button>
      <button class="UTbutton" id="authButton">Log In</button>

    </div>
    <div class="tab">
      <a href="index.html"> <button class="tabclick" onclick="openPage(event,'rental')">Home</button></a>
      <a href="rental.html"><button class="selectedtab" onclick="openPage(event,'rental')">Rental</button></a>
      <a href="calendar.html"> <button class="tabclick" onclick="openPage(event,'calendar')">Calendar</button> </a>
      <a href="cart.html"><img class="cartimg" src="cart.png"></a>

      <!--<a href="information.html"> <button class="tabclick" onclick="openPage(event,'information')">Information</button> </a>-->

      <button class="tabclick" onclick="myFunction()">Tickets</button>
      <a href="bookings.html" id="bookingsTab" style="display: none;">
        <button class="tabclick">Bookings</button>
      </a>



    </div>
  <div id="myDropdown" class="dropdown-content">
    <a href="ticketbasketball.html">
      <p class="new">Basketball</p>
    </a>
    <a href="ticketvoleyball.html">
      <p class="new">Volleyball</p>
    </a>
    <a href="ticketorchestra.html">
      <p class="new">Orchestra</p>
    </a>
  </div>
<div id="myDropdown" class="dropdown-content">
    <a href="ticketbasketball.html" ><p class="new">Basketball</p></a>
    <a href="ticketvoleyball.html"><p class="new">Volleyball</p></a>
    <a href="ticketorchestra.html"><p class="new">Orchestra</p></a>
  </div>
  <div class="rental-bg">
  <div class="extraspace"></div>

  <h2 style="color: white;">Rental</h2>
  <!---
  <div id="rheafart">

  <div id="left">
<label for="eventtype">Event Type:</label><br/>
  <select class="rentalinputs">
    <option value="club">Club meeting</option>
    <option value="sport">Sport</option>
    <option value="other">Other</option>
    <option value="concert">Concert</option>
  </select> <br/>
  <div class="extraspace"></div>
  <div class="extraspace"></div>
  <label for="ammenties">Ammenties needed</label><br/>
  <select class="rentalinputs"name="ammenties">
    <option value="parking">Parking</option>
    <option value="food">Food and Drink</option>
    <option value="security">Security</option>
  </select>
  <div class="extraspace"></div>
  <div class="extraspace"></div>
  <label for="time">Start Time</label><br/>
  <input type="time" class="rentalinputs2"name="time">
  <button class="wiege" onclick="displayInputs()">Submit</button>
  <script>
   function displayInputs() {
    let today = new Date();
    
    // Generate random dates for the next month
    let numSlots = 3; // Number of random dates
    let dateSlots = [];

    for (let i = 0; i < numSlots; i++) {
        let randomDays = Math.floor(Math.random() * 30) + 1;
        let futureDate = new Date(today);
        futureDate.setDate(today.getDate() + randomDays);

        let formattedDate = futureDate.toLocaleDateString("en-US", {
            month: "long",
            day: "numeric",
            year: "numeric"
        });

        dateSlots.push(formattedDate);
    }

    // Create or update output div
    let outputDiv = document.getElementById("timeSlots");
    if (!outputDiv) {
        outputDiv = document.createElement("div");
        outputDiv.id = "timeSlots";
        document.body.appendChild(outputDiv);
    } else {
        outputDiv.innerHTML = ""; // Clear previous content
    }

    // Check if heading exists, if not, create it
    let heading = document.getElementById("timeSlotsHeading");
    if (!heading) {
        heading = document.createElement("h3");
        heading.textContent = "Available Dates";
        heading.id = "timeSlotsHeading";
        outputDiv.appendChild(heading);
    }

    // Append new date slots
    dateSlots.forEach(date => {
        let dateElement = document.createElement("p");
        dateElement.textContent = date;
        dateElement.className = "slot-box";
        outputDiv.appendChild(dateElement);
    });

    // Add "Book Now" button
    let bookNowButton = document.createElement("button");
    bookNowButton.textContent = "Book Now";
    bookNowButton.className = "book-now-btn";
    bookNowButton.onclick = function() {
        document.getElementById("form_rentals").scrollIntoView({ behavior: "smooth" });
    };

    outputDiv.appendChild(bookNowButton);
}

   
  </script>
  </div>
</div>
 </div>
</table>
  --->
<div class="autoshow" >
  <div class="pricing-container">
    <!-- Hourly -->
    <div class="pricing-card">
      <p class="z">Hourly</p>
      <div class="extraspace4"></div>
      <p style="color: black; font-size: 20px; font-weight: 500;">$150</p>
      <p style="color: gray; font-size: 12px; font-weight: 600;">/per hour</p>
      <div class="extraspace4"></div>
      <button class="bookNow">Book Now</button>
    
      <div class="divider">
        <hr class="divider-line">
        <span class="divider-text">Included</span>
        <hr class="divider-line">
      </div>
      <div class="extraspace4"></div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Parking</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Concessions</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Wheelchair Accessibility</p>
      </div>
    </div>
  
    <!-- Full Day -->
    <div class="pricing-card">
      <p class="z">Full Day</p>
      <div class="extraspace4"></div>
      <p style="color: black; font-size: 20px; font-weight: 500;">$1,500</p>
      <p style="color: gray; font-size: 12px; font-weight: 600;">/per day</p>
      <div class="extraspace4"></div>
      <button class="bookNow">Book Now</button>
   
      <div class="divider">
        <hr class="divider-line">
        <span class="divider-text">Included</span>
        <hr class="divider-line">
      </div>
      <div class="extraspace4"></div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Parking</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Concessions</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Discounts Applied</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Wheelchair Accessibility</p>
      </div>
    </div>
  
    <!-- Multiple Days -->
    <div class="pricing-card">
      <p class="z">Multiple Days</p>
      <div class="extraspace4"></div>
      <p style="color: black; font-size: 20px; font-weight: 500;">$TBD</p>
      <p style="color: gray; font-size: 12px; font-weight: 600;">Decided on number of days</p>
      <div class="extraspace4"></div>
      <button class="bookNow">Book Now</button>
     
      <div class="divider">
        <hr class="divider-line">
        <span class="divider-text">Included</span>
        <hr class="divider-line">
      </div>
      <div class="extraspace4"></div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Parking</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Concessions</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">VIP Seating</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Custom Event Coordination</p>
      </div>
      <div style="display: flex; align-items: center; margin-bottom: 8px;">
        <img src="checkbox.png" class="checkbox">
        <p class="z">Wheelchair Accessibility</p>
      </div>
    </div>
  </div>
  
    </div> 
  </div>
  
<div id="form_rentals">

  <div class=formcolornew>
            <div class="extraspace"></div>
      <div class="extraspace"></div>
 <h2 class="fade" >Form</h2>
 <div class="extraspace4"></div>
     <form id="rentalForm">
          <table class="fade" id="rentaltable">
            <tr>
              <td class="tds">
                <label for="fname">First name:</label>
                <input type="text" class="rentalinputs" name="fname"><br><br>
              </td>
              <td class="tds">
                <label for="date">Date of Event:</label>
                <input type="date" class="rentalinputs" name="date"><br><br>
              </td>
            </tr>
            <tr>
              <td class="tds">
                <label for="lname">Last name:</label>
                <input type="text" class="rentalinputs" name="lname"><br><br>
              </td>
              <td class="tds">
                <label for="event">Event type:</label>
                <select name="choose an event" class="rentalinputs">
                  <option value="choose an event">Choose an Event</option>
                  <option value="club">Club</option>
                  <option value="sports practice">Sports Practice</option>
                  <option value="sports game">Sports Game</option>
                  <option value="other">Other</option>
                </select><br><br>
              </td>
            </tr>
            <tr>
              <td class="tds">
                <label for="email">Email:</label>
                <input type="text" class="rentalinputs" name="email"><br><br>
              </td>
            </tr>
          </table>

          <!-- ✅ Move the submit button INSIDE the form -->
          <button type="submit" class="button">Submit</button>
        </form>
       <div class="extraspace"></div>
        <div class="extraspace"></div>
  </div>
</div>


<script type="module">
      import { auth } from "./auth.js";
      import {
        signOut,
        onAuthStateChanged
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

      onAuthStateChanged(auth, (user) => {
        const authBtn = document.querySelector("#authButton");
        const profileIcon = document.querySelector("#profileIcon");
        const bookingsTab = document.querySelector("#bookingsTab");

        if (user) {
          authBtn.textContent = "Sign Out";
          authBtn.onclick = async () => {
            await signOut(auth);
            alert("You have been signed out.");
            location.reload();
          };

          // Show profile icon and bookings tab only if they exist
          if (profileIcon) profileIcon.style.display = "inline-block";
          if (bookingsTab) bookingsTab.style.display = "inline-block";
        } else {
          authBtn.textContent = "Log In";
          authBtn.onclick = () => {
            window.location.href = "login.html";
          };

          // Hide profile icon and bookings tab if visible
          if (profileIcon) profileIcon.style.display = "none";
          if (bookingsTab) bookingsTab.style.display = "none";
        }
      });
    </script>
    <script type="module">
      import { firebaseApp, auth } from "./auth.js";
      import {
        getFirestore,
        collection,
        addDoc
      } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

      const db = getFirestore(firebaseApp);

      document.querySelector("#rentalForm")?.addEventListener("submit", async (e) => {
        e.preventDefault();

        const date = document.querySelector("[name='date']")?.value;
        const event = document.querySelector("[name='choose an event']")?.value; // ✅ Ensure correct event field

        const user = auth.currentUser;
        if (!user) {
          alert("Please log in first.");
          return;
        }

        console.log("📤 Booking Data Before Submit:", { uid: user.uid, date, event }); // Debugging log

        try {
          await addDoc(collection(db, "bookings"), {
            uid: user.uid,
            date,
            event,  // ✅ Store event type in Firestore
            timestamp: new Date().toISOString()
          });

          console.log("✅ Booking saved!");
          alert("✅ Booking submitted!");
          window.location.href = "bookings.html";
        } catch (err) {
          console.error("❌ Firestore error:", err.message);
          alert("Something went wrong when saving your booking.");
        }
      });


    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        console.log("✅ Page fully loaded!");
        const form = document.querySelector("#rentalForm");

        if (!form) {
          console.error("❌ Form with id 'rentalForm' not found!");
          return;
        }

        console.log("✅ Form detected. Listening for submit event...");

        form.addEventListener("submit", (e) => {
          e.preventDefault();
          console.log("🚀 Form submitted!");
        });
      });
    </script>


  </body>

  </html>
